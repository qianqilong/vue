(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{8094:function(e,t,a){},d9c9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{attrs:{title:"黑马头条-登陆"}}),a("div",[a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"mobile",label:"手机号",required:"",placeholder:"请输入手机号",rules:[{required:!0,message:"请填写11位手机号",pattern:/^1[3-9]\d{9}$/}]},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),a("van-field",{attrs:{type:"text",required:"",name:"code",label:"验证码",placeholder:"请输入验证码",rules:[{required:!0,message:"请填写正确验证码",pattern:/^\d{6}$/}]},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",type:"primary"}},[e._v("发送验证码")])]},proxy:!0}]),model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:e.isLoading,"loading-text":"登陆中......",disabled:e.isLoading}},[e._v("登陆")])],1)],1)],1)],1)},r=[],o=a("c7eb"),s=a("1da1"),i=(a("ac1f"),a("5319"),a("7938")),c=a("365c"),u=a("cc33"),l={name:"Login",data:function(){return{user:{mobile:"",code:""},isLoading:!1}},methods:{onSubmit:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function a(){var n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.prev=1,a.next=4,Object(c["k"])(e);case 4:n=a.sent,Object(i["a"])({message:"登陆成功"}),Object(u["c"])(n.data.data.token),localStorage.setItem("refresh_token",n.data.data.refresh_token),t.$router.replace({path:t.$route.query.path||"/layout/home"}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),Object(i["a"])({message:"验证码错误"});case 14:t.isLoading=!1;case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}},d=l,b=(a("df01"),a("2877")),p=Object(b["a"])(d,n,r,!1,null,"5a11de58",null);t["default"]=p.exports},df01:function(e,t,a){"use strict";a("8094")}}]);
//# sourceMappingURL=Login.0eb385f0.js.map