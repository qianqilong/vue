{"version":3,"sources":["webpack:///./src/views/Login/index.vue?6227","webpack:///src/views/Login/index.vue","webpack:///./src/views/Login/index.vue?01b2","webpack:///./src/views/Login/index.vue","webpack:///./src/views/Login/index.vue?e8b3"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","onSubmit","required","message","pattern","model","value","user","callback","$$v","$set","expression","scopedSlots","_u","key","fn","_v","proxy","staticStyle","isLoading","staticRenderFns","name","data","mobile","code","methods","values","loginAPI","res","Dialog","setToken","localStorage","path","component"],"mappings":"qIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,aAAaF,EAAG,MAAM,CAACA,EAAG,WAAW,CAACG,GAAG,CAAC,OAASP,EAAIQ,WAAW,CAACJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAM,SAAW,GAAG,YAAc,SAAS,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,YAAaC,QAAQ,mBAAmBC,MAAM,CAACC,MAAOb,EAAIc,KAAW,OAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,KAAM,SAAUE,IAAME,WAAW,iBAAiBd,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,KAAO,OAAO,MAAQ,MAAM,YAAc,SAAS,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,WAAYC,QAAQ,aAAaQ,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAClB,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACN,EAAIuB,GAAG,aAAaC,OAAM,KAAQZ,MAAM,CAACC,MAAOb,EAAIc,KAAS,KAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,KAAM,OAAQE,IAAME,WAAW,eAAed,EAAG,MAAM,CAACqB,YAAY,CAAC,OAAS,SAAS,CAACrB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,SAAS,QAAUN,EAAI0B,UAAU,eAAe,YAAY,SAAW1B,EAAI0B,YAAY,CAAC1B,EAAIuB,GAAG,SAAS,IAAI,IAAI,IAAI,IAChoCI,EAAkB,G,kFCiDP,GACfC,aACAC,KAFA,WAGA,OACAf,MACAgB,UACAC,SAEAL,eAGAM,SACAxB,SADA,SACAyB,GAAA,iKAGA,eAHA,kBAKAC,kBALA,OAKAC,EALA,OAMAC,gBAAA1B,iBAEA2B,kCAEAC,gEAKA,mBACAC,2CAhBA,qDAmBAH,gBAAA1B,kBAnBA,QAqBA,eArBA,+DC9D8V,I,wBCQ1V8B,EAAY,eACd,EACAzC,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAa,E,2CCnBf","file":"js/Login.0eb385f0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条-登陆\"}}),_c('div',[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"required\":\"\",\"placeholder\":\"请输入手机号\",\"rules\":[{ required: true, message: '请填写11位手机号' ,pattern:/^1[3-9]\\d{9}$/}]},model:{value:(_vm.user.mobile),callback:function ($$v) {_vm.$set(_vm.user, \"mobile\", $$v)},expression:\"user.mobile\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"required\":\"\",\"name\":\"code\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\",\"rules\":[{ required: true, message: '请填写正确验证码' ,pattern:/^\\d{6}$/}]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"发送验证码\")])]},proxy:true}]),model:{value:(_vm.user.code),callback:function ($$v) {_vm.$set(_vm.user, \"code\", $$v)},expression:\"user.code\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\",\"loading\":_vm.isLoading,\"loading-text\":\"登陆中......\",\"disabled\":_vm.isLoading}},[_vm._v(\"登陆\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <!-- 标题 -->\r\n  <van-nav-bar\r\n  title=\"黑马头条-登陆\"/>\r\n  <!-- 表单目录\r\n  1.收集值以后调用接口，查看登陆结果\r\n  2.点击登陆加载，实现防抖\r\n   -->\r\n  <div>\r\n    <van-form @submit=\"onSubmit\">\r\n      <!--\r\n      van-field输入框\r\n      name：{\"用户名\"：\"页面值\"}\r\n      rules：表单校检规则\r\n      labal：属性输入框的左侧文本\r\n      required：不填会出现*\r\n      pattern:配置正则\r\n       -->\r\n  <van-field\r\n    v-model=\"user.mobile\"\r\n    name=\"mobile\"\r\n    label=\"手机号\"\r\n    required\r\n    placeholder=\"请输入手机号\"\r\n    :rules=\"[{ required: true, message: '请填写11位手机号' ,pattern:/^1[3-9]\\d{9}$/}]\"\r\n  />\r\n  <van-field\r\n    v-model=\"user.code\"\r\n    type=\"text\"\r\n    required\r\n    name=\"code\"\r\n    label=\"验证码\"\r\n    placeholder=\"请输入验证码\"\r\n    :rules=\"[{ required: true, message: '请填写正确验证码' ,pattern:/^\\d{6}$/}]\"\r\n  >  <template #button>\r\n    <van-button size=\"small\" type=\"primary\">发送验证码</van-button>\r\n  </template></van-field>\r\n  <div style=\"margin: 16px;\">\r\n    <van-button round block type=\"info\" native-type=\"submit\" :loading=\"isLoading\" loading-text=\"登陆中......\" :disabled=\"isLoading\">登陆</van-button>\r\n  </div>\r\n</van-form>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Dialog from '@/utils/Dialog.js'\r\nimport { loginAPI } from '@/api'\r\nimport { setToken } from '@/utils/token.js'\r\nexport default {\r\n  name: 'Login',\r\n  data () {\r\n    return {\r\n      user: {\r\n        mobile: '', // 手机号\r\n        code: ''// 密码246810\r\n      },\r\n      isLoading: false// 登陆按键的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    async  onSubmit (values) {\r\n      // 收集的参数名和值\r\n      // console.log('submit', values)\r\n      this.isLoading = true\r\n      try {\r\n        const res = await loginAPI(values)\r\n        Dialog({ message: '登陆成功' })\r\n        // 存储token\r\n        setToken(res.data.data.token)\r\n        // 续约token\r\n        localStorage.setItem('refresh_token', res.data.data.refresh_token)\r\n        /* 跳转页面\r\n        1.this.$router.push压栈\r\n        2.this.$router.replace\r\n      */\r\n        this.$router.replace({\r\n          path: this.$route.query.path || '/layout/home'// 页面未遂的跳转\r\n        })\r\n      } catch (err) {\r\n        Dialog({ message: '验证码错误' })\r\n      }\r\n      this.isLoading = false\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n/*基本不用的方式\r\n// .van-nav-bar{\r\n//    background: #007bff;\r\n// }\r\n//  此选择器是van-nav-bar组件内的标签\r\n// scoped尝试把此选择器后属性选择器匹配当前页面标签，选不中组件内部的标签\r\n// 结论：要修改组件内样式，用了scoped就要在选择器前加/deep/\r\n//\r\n\r\n// /deep/.van-nav-bar__title{\r\n// color: white;\r\n// }*/\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a11de58&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a11de58&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a11de58\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5a11de58&scoped=true&lang=less&\""],"sourceRoot":""}